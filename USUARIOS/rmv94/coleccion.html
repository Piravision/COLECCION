<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Colección de Cromos de rmv94</title>
    <style>
    body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #0c0c0c;
        color: #f4f4f4;
        position: relative;
    }

    .header {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: #1f1f1f;
        padding: 10px 20px;
    }

    .logo-container {
        text-align: center;
        margin-bottom: 10px;
    }

    .logo {
        max-height: 160px;
        height: auto;
        width: auto;
    }

    @media (max-width: 600px) {
        .logo {
            max-height: 120px;
        }
    }

    .social-icons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        justify-content: center;
        margin-bottom: 10px;
    }

    .social-icons img {
        width: 35px;
        height: 35px;
        transition: transform 0.2s;
    }

    .social-icons img:hover {
        transform: scale(1.1);
    }

    .container {
        width: 90%;
        max-width: 1200px;
        margin: auto;
        padding: 20px;
        position: relative;
        z-index: 2;
    }

    /* Fondo atenuado con la nueva imagen */
    .background {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        z-index: -1;
        filter: blur(15px) brightness(0.3);
        background: url('https://piravision.github.io/COLECCION/dorsocarta.png') no-repeat center center;
        background-size: cover;
    }

    .content {
        background: rgba(255, 255, 255, 0.07);
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 30px;
    }

    .section-title-1 {
        border-bottom: 2px solid #ff9900;
        margin-bottom: 10px;
        display: flex;
        justify-content: space-between;
        align-items: baseline;
    }

    .section-title-1 h2 {
        margin: 0;
        font-size: 1.4rem;
        color: #ff9900;
    }
    
    .section-title-1 span {
        font-size: 1.2rem;
        color: #fff;
    }

    .section-title-2 {
        margin-top: 20px;
        display: flex;
        justify-content: space-between;
        align-items: baseline;
    }

    .section-title-2 h2 {
        margin: 0;
        font-size: 1.2rem;
    }

    .section-title-2 span {
        font-size: 1rem;
        color: #ccc;
    }

    .coleccion {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        padding: 20px 0;
        justify-content: flex-start;
    }

    .cromo-card {
        flex: 0 0 auto;
        width: 200px;
        border: 2px solid #555;
        border-radius: 10px;
        padding: 10px;
        background-color: #333;
        box-shadow: 0 4px 8px rgba(0,0,0,0.5);
        text-align: center;
        position: relative;
        display: flex;
        flex-direction: column;
    }

    .cromo-card a {
        cursor: pointer;
        text-decoration: none;
        color: inherit;
    }

    .cromo-img-container {
        width: 100%;
        aspect-ratio: 1 / 1;
        overflow: hidden;
        border-radius: 5px;
        margin-bottom: 10px;
    }

    .cromo-img-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .cromo-card h3 {
        margin: auto 0 5px;
        font-size: 1.2em;
    }

    .cromo-card p {
        margin: 5px 0 0;
        font-size: 0.9em;
        color: #ccc;
    }

    .cromo-numero {
        position: absolute;
        top: 10px;
        left: 10px;
        background-color: #ff9900;
        color: #111;
        padding: 5px 10px;
        border-radius: 5px;
        font-weight: bold;
    }

    .footer {
        text-align: center;
        padding: 10px;
        background: #111;
        color: #fff;
    }

    a {
        color: #ff9900;
        text-decoration: none;
    }

    a:hover {
        text-decoration: underline;
    }

    /* --- INICIO: NUEVOS ESTILOS PARA EL MODAL INTERACTIVO --- */

	/* Actualizamos .modal para que use flexbox y centre todo perfectamente */
	.modal {
		display: none; /* Oculto por defecto */
		position: fixed;
		z-index: 100;
		left: 0;
		top: 0;
		width: 100%;
		height: 100%;
		overflow: auto;
		background-color: rgba(0,0,0,0.9);
		
		/* Propiedades flex para centrar */
		align-items: center;
		justify-content: center;
		perspective: 1000px; /* Necesario para el efecto 3D */
	}

	/* Clase que se añadirá con JS para mostrar el modal */
	.modal.visible {
		display: flex;
	}

	.modal-container-content {
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	/* Contenedor de la carta para el efecto 3D */
	#modal-card-container {
		position: relative;
		transform-style: preserve-3d;
		transition: transform 0.1s linear, box-shadow 0.4s ease-out, border-color 0.4s ease-out;
		border-radius: 15px;
		overflow: hidden; /* Muy importante para recortar el brillo */
		display: inline-block;
		transform: translateZ(0); /* Mejora el renderizado en algunos navegadores */
	}

	/* Pseudo-elemento que crea la capa de brillo */
	#modal-card-container::before {
		content: "";
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		opacity: 0;
		transition: opacity 0.25s ease-out;
		mix-blend-mode: color-dodge; /* La propiedad clave que revela el patrón */
		pointer-events: none; /* Permite hacer clic a través del efecto */
		z-index: 2;
	}

	#modal-card-container:hover::before { 
		opacity: 1; 
	}

	/* --- EFECTOS DE BRILLO Y PATRONES HOLOGRÁFICOS POR RAREZA (VERSIÓN CON SVG EMBEBIDO) --- */

	#modal-card-container.Común::before {
		/* Capa 1: Reflejo de luz + Capa 2: Patrón SVG de Hero Patterns */
		background-image: linear-gradient(115deg, transparent 30%, rgba(255,255,255,0.4) 48%, rgba(255,255,255,0.4) 52%, transparent 70%),
						  url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.12'%3E%3Cpath d='M0 38.59l2.83-2.83 1.41 1.41L1.41 40H0v-1.41zM0 1.4l2.83 2.83 1.41-1.41L1.41 0H0v1.41zM38.59 40l-2.83-2.83 1.41-1.41L40 38.59V40h-1.41zM40 1.41l-2.83 2.83-1.41-1.41L38.59 0H40v1.41zM20 18.6l2.83-2.83 1.41 1.41L21.41 20l2.83 2.83-1.41 1.41L20 21.41l-2.83 2.83-1.41-1.41L18.59 20l-2.83-2.83 1.41-1.41L20 18.59z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");

		/* Controlamos cada capa por separado */
		background-size: 250% 250%, auto;
		background-position: var(--mouse-x) var(--mouse-y), 0 0;
		background-repeat: no-repeat, repeat;
	}

	#modal-card-container.Raro::before {
		/* Capa 1: Reflejo de luz + Capa 2: Patrón SVG de Hero Patterns */
		background-image: linear-gradient(115deg, transparent 30%, rgba(170,210,255,0.5) 48%, rgba(170,210,255,0.5) 52%, transparent 70%),
						  url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.18'%3E%3Cpath d='M50 50c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10zM10 10c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10c0 5.523-4.477 10-10 10S0 25.523 0 20s4.477-10 10-10zm10 8c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8zm40 40c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8z' /%3E%3C/g%3E%3C/g%3E%3C/svg%3E");

		/* Controlamos cada capa por separado */
		background-size: 250% 250%, auto;
		background-position: var(--mouse-x) var(--mouse-y), 0 0;
		background-repeat: no-repeat, repeat;
	}

	#modal-card-container.Legendario::before {
		/* Capa 1: Reflejo de luz + Capa 2: Patrón SVG de Hero Patterns */
		background-image: linear-gradient(115deg, transparent 25%, hsla(0,100%,80%,0.28), hsla(60,100%,80%,0.28), hsla(120,100%,80%,0.28), hsla(180,100%,80%,0.28), hsla(240,100%,80%,0.28), transparent 75%),
						  url("data:image/svg+xml,%3Csvg width='180' height='180' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M81.28 88H68.413l19.298 19.298L81.28 88zm2.107 0h13.226L90 107.838 83.387 88zm15.334 0h12.866l-19.298 19.298L98.72 88zm-32.927-2.207L73.586 78h32.827l.5.5 7.294 7.293L115.414 87l-24.707 24.707-.707.707L64.586 87l1.207-1.207zm2.62.207L74 80.414 79.586 86H68.414zm16 0L90 80.414 95.586 86H84.414zm16 0L106 80.414 111.586 86h-11.172zm-8-6h11.173L98 85.586 92.414 80zM82 85.586L87.586 80H76.414L82 85.586zM17.414 0L.707 16.707 0 17.414V0h17.414zM4.28 0L0 12.838V0h4.28zm10.306 0L2.288 12.298 6.388 0h8.198zM180 17.414L162.586 0H180v17.414zM165.414 0l12.298 12.298L173.612 0h-8.198zM180 12.838L175.72 0H180v12.838zM0 163h16.413l.5.5 7.294 7.293L25.414 172l-8 8H0v-17zm0 10h6.613l-2.334 7H0v-7zm14.586 7l7-7H8.72l-2.333 7h8.2zM0 165.414L5.586 171H0v-5.586zM10.414 171L16 165.414 21.586 171H10.414zm-8-6h11.172L8 170.586 2.414 165zM180 163h-16.413l-7.794 7.793-1.207 1.207 8 8H180v-17zm-14.586 17l-7-7h12.865l2.333 7h-8.2zM180 173h-6.613l2.334 7H180v-7zm-21.586-2l5.586-5.586 5.586 5.586h-11.172zM180 165.414L174.414 171H180v-5.586zm-8 5.172l5.586-5.586h-11.172l5.586 5.586zM152.933 25.653l1.414 1.414-33.94 33.942-1.416-1.416 33.943-33.94zm1.414 127.28l-1.414 1.414-33.942-33.94 1.416-1.416 33.94 33.943zm-127.28 1.414l-1.414-1.414 33.94-33.942 1.416 1.416-33.943 33.94zm-1.414-127.28l1.414-1.414 33.942 33.94-1.416 1.416-33.94-33.943zM0 85c2.21 0 4 1.79 4 4s-1.79 4-4 4v-8zm180 0c-2.21 0-4 1.79-4 4s1.79 4 4 4v-8zM94 0c0 2.21-1.79 4-4 4s-4-1.79-4-4h8zm0 180c0-2.21-1.79-4-4-4s-4 1.79-4 4h8z' fill='%239C92AC' fill-opacity='0.14' fill-rule='evenodd'/%3E%3C/svg%3E");

		/* Controlamos cada capa por separado */
		background-size: 250% 250%, auto;
		background-position: var(--mouse-x) var(--mouse-y), 0 0;
		background-repeat: no-repeat, repeat;
	}
	/* --- INICIO: MARCOS DE NEÓN POR RAREZA (CON ANIMACIÓN PERMANENTE) --- */

	/* 1. Marco plateado para la rareza COMÚN */
	#modal-card-container.Común {
		border: 3px solid #E0E0E0;
		box-shadow: 0 0 15px #C0C0C0, 
					inset 0 0 10px 2px #FFFFFF;
		--glow-color: #C0C0C0;
		
		/* Animación lenta e infinita */
		animation: neon-pulse 3s ease-in-out infinite; 
	}

	/* 2. Marco azul metalizado para la rareza RARO */
	#modal-card-container.Raro {
		border: 3px solid #77b6e9;
		box-shadow: 0 0 18px #3498db, 
					inset 0 0 10px 2px #FFFFFF;
		--glow-color: #3498db;
		
		/* MISMA animación lenta e infinita */
		animation: neon-pulse 3s ease-in-out infinite; 
	}

	/* 3. Marco dorado metalizado para la rareza LEGENDARIO */
	#modal-card-container.Legendario {
		border: 3px solid #FFEE75;
		box-shadow: 0 0 25px #FFD700, 
					inset 0 0 12px 3px #FFFFFF;
		--glow-color: #FFD700;
		
		/* MISMA animación lenta e infinita */
		animation: neon-pulse 3s ease-in-out infinite; 
	}

	/* --- FIN: MARCOS DE NEÓN POR RAREZA --- */
		
		
		/* ESTA ES LA REGLA CORREGIDA */
	.modal-content {
		border-radius: 15px;
		display: block;
		
		/* ---- LÍNEAS NUEVAS Y CRUCIALES ---- */
		width: auto;       /* El ancho se ajustará automáticamente */
		height: auto;      /* El alto se ajustará automáticamente */
		max-width: 500px;  /* Límite máximo para pantallas de PC */
		max-height: 80vh;  /* Límite de altura: 80% de la altura de la pantalla */
	}

	.modal-info {
		margin-top: 20px;
	}
	/* --- FIN: NUEVOS ESTILOS PARA EL MODAL INTERACTIVO --- */
    
    /* Estilos del buscador de usuario */
    .search-container {
        background: rgba(255, 255, 255, 0.07);
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
        text-align: center;
    }
    
    .search-container input, .search-container button {
        padding: 10px;
        border-radius: 5px;
        border: none;
        margin: 5px;
        font-size: 1rem;
    }
    
    .search-container input {
        background-color: #222;
        color: #fff;
    }
    
    .search-container button {
        background-color: #ff9900;
        color: #111;
        cursor: pointer;
        font-weight: bold;
    }
    
    /* Logo antes del buscador */
    .search-logo-container {
        text-align: center;
        margin: 20px 0;
    }
	
	
	
	
    /* ESTILOS DE LA CUADRÍCULA DE SERIES */
	.summary-grid-container {
		margin-top: 20px;
		margin-bottom: 30px;
	}

	.summary-grid {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
		gap: 15px;
		justify-content: center;
	}

	.summary-button {
		position: relative;
		overflow: hidden;
		display: flex;
		justify-content: flex-end; /* Alinea los elementos al final del contenedor */
		align-items: flex-end; /* Alinea los elementos a la derecha del contenedor */
		aspect-ratio: 1 / 1;
		padding: 10px;
		border: 1px solid #444;
		border-radius: 10px;
		transition: transform 0.2s;
		text-align: center;
		cursor: pointer;
		background-color: transparent;
	}

	.summary-button:hover {
		transform: scale(1.05);
	}

	/* Estilos de la imagen como fondo */
	.summary-button-image {
		width: 100%;
		height: 100%;
		object-fit: contain;
		position: absolute;
		top: 0;
		left: 0;
		z-index: 0;
		border-radius: 10px;
	}

	/* Estilos para el texto del contador */
	.summary-button-counter {
		position: relative; /* Lo eleva por encima de la imagen */
		z-index: 1; /* Valor mayor que el de la imagen */
		background-color: rgba(0, 0, 0, 0.6);
		padding: 3px 8px;
		border-radius: 5px;
		margin: 2px;
		font-size: 0.8em;
		color: #ff9900;
	}
	/* --- INICIO: ESTILOS RESPONSIVE PARA MÓVILES --- */

	@media (max-width: 600px) {
	  
	  /* Hacemos que la imagen nunca sea más ancha ni más alta que la pantalla */
	  .modal-content {
		max-width: 90vw;  /* Límite de ANCHO: 90% del ancho de la pantalla */
		max-height: 85vh; /* Límite de ALTURA: 85% de la altura de la pantalla */
	  }

	  /* Ajustamos el contenedor principal para que no se pegue a los bordes */
	  .modal-container-content {
		padding: 10px;
	  }

	  /* Hacemos el botón de cerrar más grande y accesible */
	  .close {
		font-size: 50px;
		top: 5px;
		right: 20px;
	  }
	  
	  /* Reducimos el tamaño del texto de info */
	  .modal-info h3 {
		  font-size: 1.1em;
	  }

	}

	/* --- FIN: ESTILOS RESPONSIVE PARA MÓVILES --- */
	/* --- INICIO: ANIMACIÓN DE PULSO NEÓN PARA MÓVILES --- */

	@keyframes neon-pulse {
	  0% {
		/* El brillo empieza como lo tienes ahora */
		box-shadow: inherit;
	  }
	  70% {
		/* A mitad de la animación, el brillo se vuelve mucho más intenso */
		box-shadow: 0 0 40px var(--glow-color, #fff), 
					inset 0 0 15px 4px #FFFFFF;
	  }
	  100% {
		/* Al final, vuelve a su estado normal y se queda fijo */
		box-shadow: inherit;
	  }
	}

	/* --- FIN: ANIMACIÓN DE PULSO NEÓN PARA MÓVILES --- */
	</style>
</head>
<body>
    <div class="header">
        <div class="logo-container">
            <a href="https://piravision.github.io/App/" target="_blank">
                <img src="https://cdn.streamelements.com/uploads/fa3fe2b3-134b-4288-bfef-29948befc05f.png" alt="Logo" class="logo">
            </a>
        </div>
        <div class="social-icons">
            <a href="https://www.twitch.tv/piravision" target="_blank">
                <img src="https://cdn.streamelements.com/uploads/4e340b43-7b0e-4bad-81d4-197c233827c4.png" alt="Twitch">
            </a>
            <a href="https://kick.com/piravision" target="_blank">
                <img src="https://cdn.streamelements.com/uploads/9e660f91-49cb-476f-b328-8a1e5d9706ae.png" alt="Kick">
            </a>
            <a href="https://discord.gg/7VEzeTy55R" target="_blank">
                <img src="https://cdn.streamelements.com/uploads/e731c1a0-344f-432d-bbf8-0590844f7e25.png" alt="Discord">
            </a>
            <a href="https://x.com/PiraVision" target="_blank">
                <img src="https://cdn.streamelements.com/uploads/aecdfafd-fb1e-41d7-91ff-cc7d5cb34a32.png" alt="X (Twitter)">
            </a>
            <a href="https://t.me/+UD7ZygM3MrlhNjg0" target="_blank">
                <img src="https://cdn.streamelements.com/uploads/16594692-335f-470e-9beb-fd542023ec96.png" alt="Telegram">
            </a>
        </div>
    </div>

    <div class="background"></div>
    
	 <div class="container">
        <div class="search-logo-container">
            <img src="https://piravision.github.io/COLECCION/logo.png" alt="Colección de Cromos" class="search-logo">
        </div>
	
	<div class="container">

        <div class="search-container">
            <label for="usernameInput"><h2>Buscar colección de usuario</h2></label>
            <input type="text" id="usernameInput" placeholder="Introduce el nombre de usuario">
            <button onclick="buscarColeccion()">Buscar</button>
            <p style="font-size: 0.9em; color: #aaa; margin-top: 10px;">¡Hola Piraviewer! Introduce tu usuario de Kick para ver tu álbum personal.</p>
        </div>

        <div class="content">
            <div class="section-title-1">
                <h2>Colección de Cromos de rmv94</h2>
                <span>Cartas obtenidas: 6 / 1121</span>
            </div>
            
            <div class="details">
                <div class="info">
                    <div class="summary-grid-container">
    <h2>Resumen por Serie</h2>
					<div class="summary-grid">
						
							<div class="summary-button" onclick="mostrarCartas('Batman')">
								<img src="/COLECCION/botones/batman.png" alt="Batman" class="summary-button-image">
								<span class="summary-button-counter">1 / 26</span>
							</div>
						
							<div class="summary-button" onclick="mostrarCartas('Castlevania')">
								<img src="/COLECCION/botones/castlevania.png" alt="Castlevania" class="summary-button-image">
								<span class="summary-button-counter">1 / 10</span>
							</div>
						
							<div class="summary-button" onclick="mostrarCartas('Heman')">
								<img src="/COLECCION/botones/heman.png" alt="Heman" class="summary-button-image">
								<span class="summary-button-counter">1 / 19</span>
							</div>
						
							<div class="summary-button" onclick="mostrarCartas('Spiderman')">
								<img src="/COLECCION/botones/spiderman.png" alt="Spiderman" class="summary-button-image">
								<span class="summary-button-counter">1 / 30</span>
							</div>
						
							<div class="summary-button" onclick="mostrarCartas('Terrenos&Objetos')">
								<img src="/COLECCION/botones/terrenos&objetos.png" alt="Terrenos&Objetos" class="summary-button-image">
								<span class="summary-button-counter">2 / 42</span>
							</div>
						
					</div>
				</div>
                    
                    <div id="cards-container">
                        
                            <div class="series-cards" id="series-Batman" style="display: none;">
                                <div class="section-title-2">
                                    <h2>Batman</h2>
                                    <span>Cartas obtenidas: 1 / 26</span>
                                </div>
                                <div class="coleccion">
                                    
                                        <div class="cromo-card">
                                            <span class="cromo-numero">Nº: 794</span>
                                            <a href="#" onclick="openModal(this, 'https://PiraVision.github.io/COLECCION/CROMOS PIRAVISION/Batman/HUGO-STRANGE(27-8-2025-4_39).png', '794', 'HUGO-STRANGE', 'Común'); return false;">
												<div class="cromo-img-container">
													<img src="https://PiraVision.github.io/COLECCION/CROMOS PIRAVISION/Batman/HUGO-STRANGE(27-8-2025-4_39).png" alt="HUGO-STRANGE">
												</div>
											</a>
																						<div class="cromo-details">
                                                <h3>HUGO-STRANGE (x1)</h3>
                                                <p>Rareza: Común</p>
                                            </div>
                                        </div>
                                    
                                </div>
                            </div>
                        
                            <div class="series-cards" id="series-Castlevania" style="display: none;">
                                <div class="section-title-2">
                                    <h2>Castlevania</h2>
                                    <span>Cartas obtenidas: 1 / 10</span>
                                </div>
                                <div class="coleccion">
                                    
                                        <div class="cromo-card">
                                            <span class="cromo-numero">Nº: 373</span>
                                            <a href="#" onclick="openModal(this, 'https://PiraVision.github.io/COLECCION/CROMOS PIRAVISION/Castlevania/PERSONAJE/SHAFT.png', '373', 'SHAFT', 'Común'); return false;">
												<div class="cromo-img-container">
													<img src="https://PiraVision.github.io/COLECCION/CROMOS PIRAVISION/Castlevania/PERSONAJE/SHAFT.png" alt="SHAFT">
												</div>
											</a>
																						<div class="cromo-details">
                                                <h3>SHAFT (x1)</h3>
                                                <p>Rareza: Común</p>
                                            </div>
                                        </div>
                                    
                                </div>
                            </div>
                        
                            <div class="series-cards" id="series-Heman" style="display: none;">
                                <div class="section-title-2">
                                    <h2>Heman</h2>
                                    <span>Cartas obtenidas: 1 / 19</span>
                                </div>
                                <div class="coleccion">
                                    
                                        <div class="cromo-card">
                                            <span class="cromo-numero">Nº: 117</span>
                                            <a href="#" onclick="openModal(this, 'https://PiraVision.github.io/COLECCION/CROMOS PIRAVISION/Heman/HERO/He-man(4-12-2023-13_28).png', '117', 'He man', 'Legendario'); return false;">
												<div class="cromo-img-container">
													<img src="https://PiraVision.github.io/COLECCION/CROMOS PIRAVISION/Heman/HERO/He-man(4-12-2023-13_28).png" alt="He man">
												</div>
											</a>
																						<div class="cromo-details">
                                                <h3>He man (x1)</h3>
                                                <p>Rareza: Legendario</p>
                                            </div>
                                        </div>
                                    
                                </div>
                            </div>
                        
                            <div class="series-cards" id="series-Spiderman" style="display: none;">
                                <div class="section-title-2">
                                    <h2>Spiderman</h2>
                                    <span>Cartas obtenidas: 1 / 30</span>
                                </div>
                                <div class="coleccion">
                                    
                                        <div class="cromo-card">
                                            <span class="cromo-numero">Nº: 181</span>
                                            <a href="#" onclick="openModal(this, 'https://PiraVision.github.io/COLECCION/CROMOS PIRAVISION/Spiderman/VILLANO/Hydro-man(17-12-2023-17_52).png', '181', 'Hydro man', 'Común'); return false;">
												<div class="cromo-img-container">
													<img src="https://PiraVision.github.io/COLECCION/CROMOS PIRAVISION/Spiderman/VILLANO/Hydro-man(17-12-2023-17_52).png" alt="Hydro man">
												</div>
											</a>
																						<div class="cromo-details">
                                                <h3>Hydro man (x1)</h3>
                                                <p>Rareza: Común</p>
                                            </div>
                                        </div>
                                    
                                </div>
                            </div>
                        
                            <div class="series-cards" id="series-TerrenosandObjetos" style="display: none;">
                                <div class="section-title-2">
                                    <h2>Terrenos&Objetos</h2>
                                    <span>Cartas obtenidas: 2 / 42</span>
                                </div>
                                <div class="coleccion">
                                    
                                        <div class="cromo-card">
                                            <span class="cromo-numero">Nº: 228</span>
                                            <a href="#" onclick="openModal(this, 'https://PiraVision.github.io/COLECCION/CROMOS PIRAVISION/Terreno y objetos/Isla-Dermline(26-3-2024-0_51).png', '228', 'Isla Dermline', 'Común'); return false;">
												<div class="cromo-img-container">
													<img src="https://PiraVision.github.io/COLECCION/CROMOS PIRAVISION/Terreno y objetos/Isla-Dermline(26-3-2024-0_51).png" alt="Isla Dermline">
												</div>
											</a>
																						<div class="cromo-details">
                                                <h3>Isla Dermline (x1)</h3>
                                                <p>Rareza: Común</p>
                                            </div>
                                        </div>
                                    
                                        <div class="cromo-card">
                                            <span class="cromo-numero">Nº: 232</span>
                                            <a href="#" onclick="openModal(this, 'https://PiraVision.github.io/COLECCION/CROMOS PIRAVISION/Terreno y objetos/Mousers(12-12-2023-22_26).png', '232', 'Mousers', 'Común'); return false;">
												<div class="cromo-img-container">
													<img src="https://PiraVision.github.io/COLECCION/CROMOS PIRAVISION/Terreno y objetos/Mousers(12-12-2023-22_26).png" alt="Mousers">
												</div>
											</a>
																						<div class="cromo-details">
                                                <h3>Mousers (x1)</h3>
                                                <p>Rareza: Común</p>
                                            </div>
                                        </div>
                                    
                                </div>
                            </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p>PIRAVISION APP</p>
    </div>
	<div id="myModal" class="modal">
		<span class="close" onclick="closeModal()">&times;</span>
		
		<div class="modal-container-content">
			<div id="modal-card-container">
				<img class="modal-content" id="imgModal">
			</div>

			<div id="modal-info" class="modal-info"></div>
		</div>
	</div>
    
	
	
	    
    <script>
		// --- ELEMENTOS GLOBALES DEL MODAL ---
		const modal = document.getElementById("myModal");
		const modalImg = document.getElementById("imgModal");
		const modalInfo = document.getElementById("modal-info");
		const modalCardContainer = document.getElementById('modal-card-container');

		// --- LÓGICA PARA EL EFECTO 3D DE LA CARTA ---
		const handleCardTilt = (e) => {
			const card = e.currentTarget;
			const { left, top, width, height } = card.getBoundingClientRect();
			const x = e.clientX - left;
			const y = e.clientY - top;
			const rotateX = -1 * ((y - height / 2) / (height / 2)) * 25;
			const rotateY = ((x - width / 2) / (width / 2)) * 25;
			card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
			card.style.setProperty('--mouse-x', `${(x / width) * 100}%`);
			card.style.setProperty('--mouse-y', `${(y / height) * 100}%`);
		};

		const resetCardTilt = (e) => {
			e.currentTarget.style.transform = 'rotateX(0deg) rotateY(0deg)';
		};

		// --- NUEVAS FUNCIONES PARA ABRIR Y CERRAR EL MODAL ---
		function openModal(linkElement, imagenUrl, cromoId, cromoNombre, cromoRareza) {
			// 1. Limpiamos clases de rareza de una apertura anterior
			modalCardContainer.classList.remove('Común', 'Raro', 'Legendario');
			
			// 2. Añadimos la clase de la rareza actual del cromo
			if (cromoRareza) {
				modalCardContainer.classList.add(cromoRareza);
			}

			// 3. Cargamos la información del cromo
			modalImg.src = imagenUrl;
			modalInfo.innerHTML = `<h3>Nº: ${cromoId} - ${cromoNombre}</h3>`;
			
			// 4. Mostramos el modal AÑADIENDO una clase
			modal.classList.add("visible");

			// 5. Activamos los listeners del ratón para el efecto 3D
			modalCardContainer.addEventListener('mousemove', handleCardTilt);
			modalCardContainer.addEventListener('mouseleave', resetCardTilt);
		}

		function closeModal() {
			// 1. Ocultamos el modal QUITANDO la clase
			modal.classList.remove("visible");
			
			// 2. Desactivamos los listeners para no consumir recursos
			modalCardContainer.removeEventListener('mousemove', handleCardTilt);
			modalCardContainer.removeEventListener('mouseleave', resetCardTilt);
			
			// 3. Reseteamos la posición de la carta por si se quedó inclinada
			resetCardTilt({currentTarget: modalCardContainer}); 
		}

		// --- LÓGICA EXISTENTE (SE MANTIENE IGUAL) ---
		window.onclick = function(event) {
			if (event.target == modal) {
				closeModal();
			}
		}
		
		function buscarColeccion() {
			const username = document.getElementById("usernameInput").value.trim();
			if (username) {
				const url = `https://piravision.github.io/COLECCION/USUARIOS/${encodeURIComponent(username)}/coleccion.html`;
				window.location.href = url;
			} else {
				alert("Por favor, introduce un nombre de usuario.");
			}
		}

		document.getElementById("usernameInput").addEventListener("keyup", function(event) {
			if (event.key === "Enter") {
				event.preventDefault();
				document.querySelector(".search-container button").click();
			}
		});

		function mostrarCartas(serie) {
			const todasLasSeries = document.querySelectorAll('.series-cards');
			todasLasSeries.forEach(s => s.style.display = 'none');
			
			const serieId = `series-${serie.replace(/ /g, '-').replace(/&/g, 'and').replace(/'/g, '')}`;
			const serieSeleccionada = document.getElementById(serieId);
			if (serieSeleccionada) {
				serieSeleccionada.style.display = 'block';
				serieSeleccionada.scrollIntoView({ behavior: 'smooth', block: 'start' });
			}
		}
	</script>
</body>
</html>